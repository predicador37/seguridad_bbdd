%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer Presentation
% LaTeX Template
% Version 1.0 (10/11/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND THEMES
%----------------------------------------------------------------------------------------

\documentclass[10pt, spanish]{beamer}


\mode<presentation> {
	
	% The Beamer class comes with a number of default slide themes
	% which change the colors and layouts of slides. Below this is a list
	% of all the themes, uncomment each in turn to see what they look like.
	
	%\usetheme{default}
	%\usetheme{AnnArbor}
	%\usetheme{Antibes}
	%\usetheme{Bergen}
	%\usetheme{Berkeley}
	%\usetheme{Berlin}
	%\usetheme{Boadilla}
	%\usetheme{CambridgeUS}
	%\usetheme{Copenhagen}
	%\usetheme{Darmstadt}
	%\usetheme{Dresden}
	%\usetheme{Frankfurt}
	%\usetheme{Goettingen}
	%\usetheme{Hannover}
	%\usetheme{Ilmenau}
	%\usetheme{JuanLesPins}
	%\usetheme{Luebeck}
	%\usetheme{Madrid}
	%\usetheme{Malmoe}
	%\usetheme{Marburg}
	%\usetheme{Montpellier}
	%\usetheme{PaloAlto}
	%\usetheme{Pittsburgh}
	\usetheme{Rochester}
	%\usetheme{Singapore}
	%\usetheme{Szeged}
	%\usetheme{Warsaw}
	
	% As well as themes, the Beamer class has a number of color themes
	% for any slide theme. Uncomment each of these in turn to see how it
	% changes the colors of your current slide theme.
	
	%\usecolortheme{albatross}
	%\usecolortheme{beaver}
	%\usecolortheme{beetle}
	%\usecolortheme{crane}
	%\usecolortheme{dolphin}
	%\usecolortheme{dove}
	%\usecolortheme{fly}
	%\usecolortheme{lily}
	%\usecolortheme{orchid}
	%\usecolortheme{rose}
	%\usecolortheme{seagull}
	%\usecolortheme{seahorse}
	%\usecolortheme{whale}
	%\usecolortheme{wolverine}
	
	%\setbeamertemplate{footline} % To remove the footer line in all slides uncomment this line
	%\setbeamertemplate{footline}[page number] % To replace the footer line in all slides with a simple slide count uncomment this line
	
	%\setbeamertemplate{navigation symbols}{} % To remove the navigation symbols from the bottom of all slides uncomment this line
}

\AtBeginSection[]{
	\begin{frame}
		\vfill
		\centering
		
		\usebeamerfont{title}\insertsectionhead\par%
		
		\vfill
	\end{frame}
}

\AtBeginSubsection[]{
	\begin{frame}
		\vfill
		\centering
		
		\usebeamerfont{title}\insertsubsectionhead\par%
		
		\vfill
	\end{frame}
}

\usepackage{graphicx} % Allows including images
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables
\usepackage[latin9]{inputenc}
\usepackage[spanish]{babel}
\usepackage{svg}
\usepackage{caption}
\usepackage{minted}
\captionsetup{font=scriptsize,labelfont=scriptsize}
\setbeamerfont{footnote}{size=\tiny}
\hypersetup{colorlinks=true,linkcolor=blue, linktocpage}
\graphicspath{ {./img/} }
\svgpath{ {./img/} }

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[Short title]{Certificación y controles de seguridad en Bases de Datos: Sistemas de gestión de bases de datos} % The short title appears at the bottom of every slide, the full title is only on the title page

\author{Miguel Expósito Martín} % Your name
\institute[UNICAN] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
	Universidad de Cantabria \\ % Your institution for the title page
	\medskip
	\textit{miguel.exposito@unican.es} % Your email address
}
\date{26/11/2018} % Date, can be changed to a custom date

\addtobeamertemplate{navigation symbols}{}{%
	\usebeamerfont{footline}%
	\usebeamercolor[fg]{footline}%
	\hspace{1em}%
	\insertframenumber/\inserttotalframenumber
}

\begin{document}
	
	\begin{frame}
		\titlepage % Print the title page as the first slide
	\end{frame}
	
	\begin{frame}
		\frametitle{Visión general} % Table of contents slide, comment this block out to remove it
		\tableofcontents % Throughout your presentation, if you choose to use \section{} and \subsection{} commands, these will automatically be printed on this slide as an overview of your presentation
	\end{frame}

%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------

%------------------------------------------------
\section{Definición} % Sections can be created in order to organize your presentation into discrete blocks, all sections and subsections are automatically printed in the table of contents as an overview of the talk
%------------------------------------------------


\begin{frame}
\frametitle{Definición}

Structured Query Language, o SQL, es el lenguaje utilizado tanto para la definición como para la manipulación de datos en los SGBD relacionales. Se trata de uno de los lenguajes de bases de datos más populares y en uso en la industria. Entre sus características se pueden destacar:
\begin{itemize}
	\item Presente desde 1986, la versión más reciente del estándar ISO es SQL:2016.
	\item Cada proveedor implementa su dialecto particular, si bien el núcleo del estándar es soportado por todos.
	\item Es un lenguaje declarativo y orientado a conjuntos.
	\item Puede utilizarse directamente desde una herramienta o consola o bien a través de otro lenguaje de programación.
	
\end{itemize}

\end{frame}

\section{SQL básico} % Sections can be created in order to organize your presentation into discrete blocks, all sections and subsections are automatically printed in the table of contents as an overview of the talk

\begin{frame}
	\frametitle{Comandos administrativos}
	\begin{itemize}
		
		\item \mintinline{sql}{USE [database name]}: establece la base de datos actual.
		\item \mintinline{sql}{SHOW DATABASES}: muestra las bases de datos existentes.	
		\item \mintinline{sql}{SHOW TABLES}: muestra todas las tablas no temporales.
		\item \mintinline{sql}{SHOW COLUMNS FROM [table name]}: proporciona información sobre las columnas de una determinada tabla.
		\item \mintinline{sql}{SHOW INDEX FROM TABLENAME [table name]}: proporciona información sobre los índices de una determinada tabla.
		\item \mintinline{sql}{SHOW TABLE STATUS LIKE [table name]\G}: proporciona más información sobre tablas no temporales utilizando el patrón después del LIKE.
		
	\end{itemize}
\end{frame}



\begin{frame}[fragile]
	\frametitle{DDL: databases y tablas}
\setbeamerfont{block body}{size=\small}

\begin{block}{Creación de bases de datos y tablas}
	\begin{minted}{text}
CREATE [OR REPLACE] {DATABASE | SCHEMA} [IF NOT EXISTS] db_name
DROP {DATABASE | SCHEMA} [IF EXISTS] db_name}
CREATE [OR REPLACE] [TEMPORARY] TABLE [IF NOT EXISTS] tbl_name
	\end{minted}
\end{block}


\begin{exampleblock}{Ejemplos}
	\begin{verbatim}
	CREATE DATABASE db1;
	DROP DATABASE db1;
	create table if not exists test (
	id bigint auto_increment primary key,
	name varchar(128) charset utf8,
	key name (name(32))
	) engine=InnoDB default charset latin1;
	\end{verbatim}
\end{exampleblock}


\end{frame}

\begin{frame}[fragile]
	\frametitle{DDL: modificación y borrado de objetos}
	\setbeamerfont{block body}{size=\small}
	
	\begin{block}{Modificación y borrado de tablas}
		\begin{minted}{text}
ALTER [ONLINE] [IGNORE] TABLE tbl_name
[WAIT n | NOWAIT]
alter_specification [, alter_specification] ...

DROP [TEMPORARY] TABLE [IF EXISTS] [/*COMMENT TO SAVE*/]
tbl_name [, tbl_name] ...
[WAIT n|NOWAIT]
[RESTRICT | CASCADE]
		\end{minted}
	\end{block}
	
	
	\begin{exampleblock}{Ejemplos}
		\begin{verbatim}
		ALTER TABLE t1 ADD x INT;
		ALTER TABLE t1 DROP x;
		DROP TABLE Employees, Customers;
		\end{verbatim}
	\end{exampleblock}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{DML: consulta}
	\setbeamerfont{block body}{size=\small}
	
	\begin{block}{Consulta de tablas}
		\begin{minted}{text}
SELECT
[ALL | DISTINCT | DISTINCTROW]
[HIGH_PRIORITY]
[STRAIGHT_JOIN]
[SQL_SMALL_RESULT] [SQL_BIG_RESULT] [SQL_BUFFER_RESULT]
[SQL_CACHE | SQL_NO_CACHE] [SQL_CALC_FOUND_ROWS]
select_expr [, select_expr ...]
[ FROM table_references
[WHERE where_condition]
[GROUP BY {col_name | expr | position} [ASC | DESC], ... ]
[HAVING where_condition]
[ORDER BY {col_name | expr | position} [ASC | DESC], ...]
[LIMIT {[offset,] row_count | row_count OFFSET offset}]
[PROCEDURE procedure_name(argument_list)]
[INTO OUTFILE 'file_name' [CHARACTER SET charset_name]
		\end{minted}
	\end{block}

\end{frame}

\begin{frame}[fragile]
	\frametitle{DML: inserción y actualización}
	\setbeamerfont{block body}{size=\small}

	\begin{block}{Inserción de datos en tablas}
		\begin{verbatim}
		INSERT [LOW_PRIORITY | DELAYED | HIGH_PRIORITY] [IGNORE]
		[INTO] tbl_name [PARTITION (partition_list)] [(col,...)]
		{VALUES | VALUE} ({expr | DEFAULT},...),(...),...
		[ ON DUPLICATE KEY UPDATE
		col=expr [, col=expr] ... ]
		\end{verbatim}
	\end{block}
	\begin{block}{Actualización de datos en tablas}
	\begin{verbatim}
UPDATE [LOW_PRIORITY] [IGNORE] table_reference 
[PARTITION (partition_list)]
SET col1={expr1|DEFAULT} [,col2={expr2|DEFAULT}] ...
[WHERE where_condition]
[ORDER BY ...]
[LIMIT row_count]
	\end{verbatim}
\end{block}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{DML: borrado}
	\setbeamerfont{block body}{size=\small}
	
	\begin{block}{Borrado de datos en tablas}
		\begin{verbatim}
		DELETE [LOW_PRIORITY] [QUICK] [IGNORE] 
		FROM tbl_name [PARTITION (partition_list)]
		[WHERE where_condition]
		[ORDER BY ...]
		[LIMIT row_count]
		[RETURNING select_expr 
		[, select_expr ...]]
		\end{verbatim}
	\end{block}
	\begin{block}{Vaciado de tablas}
		\begin{verbatim}
	TRUNCATE [TABLE] tbl_name
	[WAIT n | NOWAIT]
		\end{verbatim}
	\end{block}

\end{frame}

\begin{frame}[fragile]
	\frametitle{DML: uniones}
	\setbeamerfont{block body}{size=\small}
		\begin{itemize}
		\item \mintinline{sql}{INNER JOIN}: el conjunto resultante contiene filas que tienen coincidencia en ambas tablas para la condición especificada.
		\item \mintinline{sql}{CROSS JOIN}: producto cartesiano (todos con todos).
		\item \mintinline{sql}{LEFT JOIN}: el conjunto resultante contiene todas las filas de la tabla en el lado izquierdo de la unión. Si no están en el derecho, aparecerá \mintinline{sql}{NULL}.
		\item \mintinline{sql}{RIGHT JOIN}: el conjunto resultante contiene todas las filas de la tabla en el lado derecho de la unión. Si no están en el izquierdo, aparecerá \mintinline{sql}{NULL}.
	\end{itemize}
	
	\begin{exampleblock}{Ejemplos}
	
		\begin{verbatim}
		SELECT * FROM t1 INNER JOIN t2 ON t1.a = t2.b;
		SELECT * FROM t1 LEFT JOIN t2 ON t1.a = t2.b;
		\end{verbatim}
	\end{exampleblock}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.1}
	Cree una tabla provincia con los siguientes campos:
	\begin{itemize}
		\item id
		\item cautonoma\textunderscore id
		\item literal
	\end{itemize}
Asegúrese de que la combinación de columnas id y cautonoma\textunderscore id es única. Utilice las referencias proporcionadas para insertar valores en la tabla: \href{https://www.ine.es/daco/daco42/codmun/cod_ccaa.htm}{CCAA}, \href{https://www.ine.es/daco/daco42/codmun/cod_provincia.htm}{provincias}.
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.2}
	En primer lugar, será necesario descargar la base de datos sakila en el directorio \/home\/vagrant, por ejemplo,  y descomprimirla:
	\mintinline{bash}{wget http://downloads.mysql.com/docs/sakila-db.zip}
	\mintinline{bash}{unzip http://downloads.mysql.com/docs/sakila-db.zip}
	
\begin{block}{Instalación de sakila}
	\begin{verbatim}
	mysql -u root -p
	mysql> SOURCE /home/vagrant/sakila-db/sakila-schema.sql;
	mysql> SOURCE /home/vagrant/sakila-db/sakila-data.sql;
	mysql> USE sakila;
	mysql> SHOW TABLES;
	\end{verbatim}
	
\end{block}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.2}
    Realizar las siguientes consultas:
    
    \begin{itemize}
    	\item Seleccionar la columna last\_name de la tabla actor
    	\item Seleccionar las columnas title, description, rating y length de la tabla film que duren 3 horas o más.
    	\item Seleccionar todas las columnas de la tabla customer en las que el cliente está inactivo o cuyo apellido comienza con la letra M.
    	\item Seleccionar la fecha de pago y la cantidad de la tabla payment para los primeros 20 pagos ordenados por cantidad descendentemente.
    \end{itemize}
	
\end{frame}

\section{Vistas}

\begin{frame}[fragile]
	\frametitle{Vistas}
	\setbeamerfont{block body example}{size=\footnotesize}
	Una vista se define por medio de una consulta SQL y su contenido se genera al ser invocada por una aplicación o por ora consulta. Se pueden considerar como \textbf{tablas virtuales} sin registros físicos. O como consultas SELECT guardadas para ser consultadas. Ventajas:
	
	 \begin{itemize}
		\item Permiten ocultar y reutilizar consultas complejas, como uniones.
		\item Protegen los datos originales ocultando columnas o filas de usuarios no autorizados.
		\item Pueden utilizarse para proporcionar alias de los nombres de columnas para hacerlas más legibles.
	\end{itemize}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Vistas}
\begin{exampleblock}{Sintaxis de creación de una vista en MariaDB}
	\begin{verbatim}
		CREATE
		[OR REPLACE]
		[ALGORITHM = {UNDEFINED | MERGE | TEMPTABLE}]
		[DEFINER = { user | CURRENT_USER | role | CURRENT_ROLE }]
		[SQL SECURITY { DEFINER | INVOKER }]
		VIEW [IF NOT EXISTS] view_name [(column_list)]
		AS select_statement
		[WITH [CASCADED | LOCAL] CHECK OPTION]
	\end{verbatim}
\end{exampleblock}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.3}
 Liste el "top five" de géneros en ingresos brutos en orden descendente.  genres in gross revenue in descending order. (Pista: puede necesitar las tablas \textit{category, film\_category, inventory, payment y rental}). \\~\\
 
 En su nuevo puesto de ejecutivo, le gustaría disponer de una forma sencilla de consultar este "top five". Utilice la consulta anterior para crear una vista que satisfaga esta necesidad.
 
 
\end{frame}

\section{Privilegios SQL}
\begin{frame}[fragile]
	\frametitle{Privilegios SQL: definición y tipos}
Un privilegio se corresponde con un derecho a hacer uso de ciertas sentencias SQL como SELECT o INSERT sobre uno o más objetos de base de datos. Los privilegios pueden concederse o revocarse. Tanto el DBA como el propietario de un esquema dado pueden conceder o revocar privilegios a cuentas de usuario, a nivel de cuenta, tabla, vista o columna.

\begin{itemize}
	\item Privilegios administrativos: permiten a los usuarios gestionar la operación del SGBD. Son globales y no específicos de una base de datos en particular. Ej: CREATE USER, SHOW DATABASES.
	\item Privilegios a nivel de BD: se aplican a una base de datos y a todos los objetos dentro de la misma. Pueden aplicarse globalmente o para BDs específicas.
	\item Privilegios a nivel de objetos de BD: tablas, índices, vistas. Pueden aplicarse globalmente o a una BD específica.
	
\end{itemize}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Privilegios SQL: Cuentas de usuario}
	Las cuentas de usuario en MariaDB consisten en un usuario y un nombre de host. Esto permite crear cuentas de usuario con el mismo nombre que puedan conectarse desde diferentes hosts. Las reglas a utilizar son las siguientes:
	\begin{itemize}
		\item La sintaxis es: 'username'@'hostname'
		\item Una cuenta para un único usuario puede definirse así: 'username'@'\%'.
		\item No es necesario entrecomillar el usuario y el host si no contienen caracteres especiales (como guiones).
		\item Para entrecomillar, pueden usarse backticks, comillas simples o comillas dobles.
		\item Si se entrecomilla usuario y host, deben hacerse de forma separada e independiente.
		
	\end{itemize}
	
	
\end{frame}

\begin{frame}
	\frametitle{Privilegios SQL más comunes}
	\begin{table}
		\begin{tabular}{l l l}
			\toprule
			\textbf{Privilegio} & \textbf{Columna} & \textbf{Contexto}\\
			\midrule
			CREATE 	& Create\_priv 	& databases, tables, or indexes \\
			DROP 	& Drop\_priv 	& databases, tables, or views \\
			REFERENCES &References\_priv &	databases or tables \\
			ALTER 	& Alter\_priv &	tables \\
			DELETE 	& Delete\_priv &	tables \\
			INSERT & Insert\_priv &	tables or columns \\
			SELECT & Select\_priv &	tables or columns \\
			UPDATE & Update\_priv &	tables or columns \\
			CREATE VIEW &	Create\_view\_priv &	views \\
			SHOW VIEW  &	Show\_view\_priv & views \\
			CREATE USER &	Create\_user\_priv  &	server administration \\
			SHOW DATABASES & Show\_db\_priv &	server administration \\
			ALL & [PRIVILEGES] 	&  	server administration \\
			\bottomrule
		\end{tabular}
		\caption{Privilegios más comunes}
	\end{table}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Privilegios SQL: GRANT y REVOKE}
	Los privilegios se conceden con GRANT...
	\begin{exampleblock}{Sintaxis de GRANT en MariaDB}
		\begin{verbatim}
	GRANT
	priv_type [(column_list)]
	[, priv_type [(column_list)]] ...
	ON [object_type] priv_level
	TO user [ authentication_option ] [ user_options... ]
	authentication_option:
	IDENTIFIED BY 'password' 
		\end{verbatim}
	\end{exampleblock}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Privilegios SQL: GRANT y REVOKE}
	...y se revocan con REVOKE.
	\begin{exampleblock}{Sintaxis de REVOKE en MariaDB}
		\begin{verbatim}
		REVOKE 
		priv_type [(column_list)]
		[, priv_type [(column_list)]] ...
		ON [object_type] priv_level
		FROM user [, user] ...
		
		REVOKE ALL PRIVILEGES, GRANT OPTION
		FROM user [, user] ...
		\end{verbatim}
	\end{exampleblock}
	
\end{frame}



\begin{frame}[fragile]
	\frametitle{Privilegios SQL: ejemplo}
	Lo habitual:
	
	\begin{exampleblock}{Ejemplo de concesión de privilegios}
		\begin{verbatim}
GRANT ALL PRIVILEGES ON *.* TO 'user'@%
identified by 'strongpassword';
FLUSH privileges;
		\end{verbatim}

	\end{exampleblock}

\mintinline{sql}{FLUSH PRIVILEGES}: recarga las tablas de concesión de privilegios. Se ejecuta después de modificarlos.
	
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Privilegios SQL: tablas de sistema relevantes}
	La información sobre privilegios se almacena en tablas de sistema:
	
\begin{itemize}
	\item\textit{user:} cuentas de usuario, privilegios globales y otras columnas.
	\item \textit{db:} privilegios a nivel de base de datos.
	\item \textit{host:} en las últimas versiones de MariaDB ya no existe esta tabla.
	\item \textit{tables\_priv:} privilegios a nivel de tabla.
	\item \textit{columns\_priv:} privilegios a nivel de columna.
	\item \textit{procs\_priv:} privilegios a nivel de funciones y procedimientos almacenados.
	\item \textit{proxies\_priv:} privilegios a nivel de proxy.
	
\end{itemize}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Privilegios SQL: roles}
Los roles agrupan una serie de privilegios. Son útiles en grandes organizaciones, donde muchos usuarios tienen los mismos privilegios. Antes de los roles, la única manera de cambiar los privilegios de un grupo de usuarios era hacerlo individualmente.\\~\\
Los roles se crean con la sentencia \mintinline{sql}{CREATE ROLE} y se eliminan con \mintinline{sql}{DROP ROLE}. Se asignan y revocan con \mintinline{sql}{GRANT} y \mintinline{sql}{REVOKE}, respectivamente. Para que el rol se active tras la autenticación, será necesario asignárselo al usuario como rol por defecto.

\begin{exampleblock}{Ejemplo de asignación de rol}
	\begin{verbatim}
		CREATE ROLE journalist;
		GRANT SHOW DATABASES ON *.* TO journalist;
		GRANT journalist to mexposito;
		SET default role journalist FOR mexposito;
	\end{verbatim}
\end{exampleblock}
	
\textbf{Se pueden conceder roles a roles.}
\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.4: privilegios SQL}
	\begin{enumerate}
		\item Usando la BD de ejemplo sakila, otorgar, con el usuario root, control total (DELETE, INSERT, SELECT, UPDATE) a un usuario 'owner' a la tabla 'actor'. Indicar el comando utilizado.
		\item Salir de la sesión de root y entrar como el usuaro owner. Comprobar las tablas a las que tiene acceso. Lanzar una consulta a esas tablas y mostrar el resultado con una captura de pantalla.
		\item Cerrar sesión con el usuario owner y volver a entrar como root. Crear un usuario 'manager' con los siguientes privilegios sobre la tabla 'actor': DELETE, INSERT, SELECT, UPDATE. Indicar el comando utilizado.
		\item Revocar los privilegios DELETE, INSERT y UPDATE para el usuario 'manager' en la tabla 'actor'. Indicar el comando utilizado.
		\item Cerrar la sesión de root e iniciar una nueva con el usuario manager. Ejecutar una consulta sobre la tabla actor y mostrar el resultado.
		\item Borrar las filas de la tabla actor cuyo campo actor\_id sea igual a 1 y mostrar el resultado.
		
	\end{enumerate}

\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.4: roles}
	\begin{enumerate}
			\setcounter{enumi}{6}
		\item Crear un rol llamado 'r\_sakila\_read' y comprobar que se ha creado consultando la tabla user.
		\item Otorgar el privilegio de lectura al rol creado en todas las tablas de la base de datos sakila.
		\item Crear un usuario 'sakila\_reader' en localhost con una contraseña no vacía.
		\item Otorgar el rol 'r\_sakila\_read' al usuario 'sakila\_reader' en localhost y hacer efectivos los privilegios. Asignárselo como rol por defecto.
		\item Iniciar sesión con el usuario 'sakila\_reader', conectarse a la base de datos sakila y lanzar una consulta a una de las tablas. Intentar borrar una de las tablas.
		
	\end{enumerate}

\textbf{Incluir todos los comandos SQL utilizados y capturas de sus resultados.}
	
\end{frame}

\begin{frame}[fragile]
	\frametitle{Ejercicio 3.4: seguridad a nivel de columna y de fila}
	\begin{enumerate}
		\setcounter{enumi}{11}
		\item Conectarse como root a la BD sakila y añadir una columna 'salary' de tipo 'decimal (10,2)' a la tabla 'staff'. Añadir también una columna 'ss\_number' de tipo 'varchar(9)' a la misma tabla.
		\item Revocar cualquier permiso del usuario 'manager' en la tabla 'staff'.
		\item Otorgar privilegios de consulta al usuario 'manager' en la tabla 'staff' para las siguientes columnas: 'staff\_id', 'first\_name', 'last\_name', 'address\_id', 'picture', 'email', 'store\_id', 'active', 'username' y 'last\_update'.
		\item Conectarse con el usuario 'manager' a la BD 'sakila' y mostrar sus columnas con la sentencia 'EXPLAIN'. Lanzar una consulta a las columnas 'password', 'ss\_number' y 'salary'.
		
	\end{enumerate}
	
\textbf{	Incluir todos los comandos SQL utilizados y capturas de sus resultados.}
	
	MariaDB no dispone de una funcionalidad específica para aplicar restricciones de seguridad a filas. ¿Cómo implementaría esta medida de seguridad con los mecanismos ya existentes vistos hasta la fecha?
	
\end{frame}


%------------------------------------------------
\begin{frame}
	\frametitle{Resumen}
		
\end{frame}
%------------------------------------------------

\begin{frame}
\frametitle{Referencias}
\footnotesize{
\begin{thebibliography}{99} % Beamer does not support BibTeX so references must be inserted manually as below
\bibitem[Silberschatz, 2010]{p1} Abraham Silberschatz et al. (2010)
\newblock Database System Concepts, 6th edition

\bibitem[Lemahieu, 2018]{p2} Wilfried Lemahieu et al. (2018)
\newblock Principles of Database Management
\end{thebibliography}
}
\end{frame}



%------------------------------------------------


%----------------------------------------------------------------------------------------

\end{document}